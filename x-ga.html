<link rel="import" href="../core-shared-lib/core-shared-lib.html">
<polymer-element name="x-ga" attributes="app-id">
  <template>
    <core-shared-lib url="http://www.google-analytics.com/analytics.js?callback=%%callback%%"></core-shared-lib>
  </template>

  <script>
    Polymer('x-ga', {

      ready: function (){
        window['GoogleAnalyticsObject'] = 'ga';
        window['ga'] = window['ga'] || function() {
          (window['ga'].q = window['ga'].q || []).push(arguments)
        };
        ga('create', this['app-id'], 'auto');
        ga('send', 'pageview');
      }

    });
  </script>
</polymer-element>
